<!DOCTYPE html>
<html lang="en" ng-app="app">
  <head>
    <title><%= title %></title>
    <meta name=viewport content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="vendor/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="vendor/bootstrap/dist/css/bootstrap-theme.css">
    <link rel="stylesheet" type="text/css" href="vendor/codemirror/lib/codemirror.css">
    <link rel="stylesheet" type="text/css" href="vendor/codemirror/theme/monokai.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel='stylesheet' type="text/css" href='/stylesheets/style.css' />
  </head>
  <body>
    <header>
      <h1>
        PDF GENERATOR &nbsp;<i class="fa fa-file-pdf-o"></i><br/>
        <span> Rock and Roll </span>
      </h1>
    </header>

    <section ng-controller="CodeMirror">
      <div class="col-md-6 box_text">
        <h3>Template (ejs)</h3>
        <textarea class="enter_text" id="template" name="template" ui-codemirror="cmTemplate" ng-model="template" autofocus></textarea>
      </div>
      <div class="col-md-6 box_text">
        <h3>Data (json)</h3>
        <textarea class="enter_text" id="data" name="data" ui-codemirror="cmData" ng-model="data" ></textarea>
      </div>
      <div class="col-md-12">
        <button class="btn btn-lg btn-default center-block render_pdf" data-toggle="modal" data-target="#modal-pdf" ng-click="renderpdf()">Generate PDF</button>
      </div>

      <!-- modal render pdf -->
      <div id="modal-pdf" class="modal fade">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" ng-click="close('Cancel')" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title">PDF Generator</h4>
            </div>
            <div class="modal-body">
              <!-- pdf content -->

              <object data="{{content}}" type="application/pdf" class="content_pdf"></object>

            </div>
          </div>
        </div>
      </div>
    </section>

    <script type="text/javascript" src="vendor/codemirror/lib/codemirror.js"></script>
    <script type="text/javascript" src="vendor/angular/angular.js"></script>
    <script type="text/javascript" src="vendor/angular-ui-codemirror/ui-codemirror.js"></script>
    <script type="text/javascript" src="vendor/codemirror/mode/javascript/javascript.js"></script>
    <script type="text/javascript" src="vendor/codemirror/mode/xml/xml.js"></script>
    <script type="text/javascript" src="vendor/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="vendor/bootstrap/js/modal.js"></script>
    <script type="text/javascript" src="javascripts/controllers/codeMirrorController.js"></script>
    <script type="text/javascript" src="vendor/play-sound/jquery.playSound.js"></script>
    <script>
      // --- audio rock 'n' roll (jquery.playSound) ---
      $(document).ready(function(){
        $('.render_pdf').click(function() {
          $.playSound('audios/guitar');
        });
        $( '.close' ).click(function() {
          $('.content_pdf').attr('data', '');
        });
      });
    </script>

  </body>
</html>
